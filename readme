YouBike 資料視覺化
此專案使用 FastAPI 構建，提供多個 API 端點來進行台北市 YouBike 自行車站點的即時數據視覺化和路徑分析。
背後整合了自行車站點數據、天氣資訊以及地理數據，使用於 Mapbox 或 Leaflet 等工具中。

專案目的:
以找出使用者的使用習慣、站點的潛在分群、實時站點數據等資訊
透過週間、週末的熱力圖、前 20 大站點路徑分析、POI成分分析等視覺化、realtime站點資訊、3D地圖，勾勒出目前使用者使用習慣的輪廓
幫助潛在TA得知目前台北市市民使用 Youbike 的使用狀況


API 種類
 • 即時站點數據：提供台北市 YouBike 站點的即時自行車數據，包括可用車輛數量、站點座標等。
 • 天氣資訊查詢：根據指定城市名稱獲取當前天氣資訊。
 • GeoJSON 數據：提供台北市各區域站點的使用數據（週間和週末），並生成 GeoJSON 格式供地圖使用。
 • 前 20 大站點路徑分析：根據站點的使用量，回傳週間和週末使用量最大的前 20 條站點路徑。
 • 路徑數據隨機抽樣：針對站點使用量數據進行隨機抽樣，供樣本分析與可視化。
 • 靜態文件服務：提供前端視覺化 HTML 文件，用於渲染地圖（Mapbox, Leaflet, D3.js 等）

網頁
POI.html
• 從互補站點擷取前 500 互補人數排名的站點
• 定義互補人數高達 500人的為高通勤(平均站點數量 25 個車位 * 平均通勤日 20 天)
• 搜尋各站點 1 km 以內的 POI 前五名(1公里為平均使用距離)
• 以 2 KM 為 分組距離在地圖上繪製多邊形(2公里較能夠歸類站點間的共同成分)

mapbox.html
• 呈現週間、週末的熱力圖: 考慮到載入速度，對原始資料進行 30%抽樣。
• 計算車輛使用量是加總所有行動: 也就是借出算為一次使用量 、還入亦算為一次使用量

Leaflet.html
• 呈現週間、週末的路線次數在各行政區的排名
• 透過與左側地圖互動，右側以 d3 渲染的圖表也會有相對應的視覺反應
• 計算車輛使用量是某個路線的平均使用量，也就是(借出+還入)/2

index.html
• 呈現實時站點資訊
• mapbox_3d 是相同的，只是以3D地圖呈現


在docker 執行步驟
# Step 1 : 確認目前電腦 docker 正在運行
docker info

# Step 2 : 構建 Docker 映像
docker build -t my-fastapi-app .

# Step 3 : 執行映像
docker run -d -p 8080:8080 --name fastapi-container my-fastapi-app

# 啟動建立好的映像
docker start fastapi-container

# 檢查當前運行的容器
docker ps -a

# 停止容器
docker stop fastapi-container

# 刪除容器(需先停止容器)
docker rm -f fastapi-container

API 端點
1. GET /bike-stations
 • 抓取台北市即時的 YouBike 站點資料。
 • 回應格式：JSON，包含站點名稱、座標、可租借自行車數量、抓取時間等資訊。
 • 範例請求：/bike-stations

2. GET /weather/{city_name}
 • 根據城市名稱，抓取該地區的當前天氣資訊。
參數：
 • city_name (字串): 城市名稱，如台北市。
 • 回應格式：JSON，包含溫度和天氣描述。
 • 範例請求：/weather/Taipei

3. GET /country_moi
 • 回傳台灣的 GeoJSON 資料，包含各縣市的地理邊界資訊。
 • 回應格式：GeoJSON，用於地理資訊可視化。
 • 範例請求：/country_moi

4. GET /geojson
 • 回傳台北市的 GeoJSON 資料，包含週間站點使用量數據。
 • 回應格式：GeoJSON，包含各行政區的站點使用數據。
 • 範例請求：/geojson

5. GET /geojson_weekend
 • 回傳台北市的 GeoJSON 資料，包含週末站點使用量數據。
 • 回應格式：GeoJSON，包含各行政區的站點使用數據。
 • 範例請求：/geojson_weekend

6. GET /top_ten_routes
 • 回傳站點使用量前 20 的路徑數據（週間）。
 • 回應格式：GeoJSON，包含前 20 名站點路徑及其相關資訊。
 • 範例請求：/top_ten_routes

7. GET /top_ten_routes_weekend
 • 回傳站點使用量前 20 的路徑數據（週末）。
 • 回應格式：GeoJSON，包含前 20 名站點路徑及其相關資訊。
 • 範例請求：/top_ten_routes_weekend

8. GET /mapbox/week_route
 • 回傳台北市週期路徑資料的 GeoJSON，用於可視化。
 • 回應格式：GeoJSON。
 • 範例請求：/mapbox/week_route

9. GET /mapbox/weekend_route
 • 回傳台北市週末路徑資料的 GeoJSON，用於可視化。
 • 回應格式：GeoJSON。
 • 範例請求：/mapbox/weekend_route

10. GET /mapbox/refresh_weekend_route_sample/{frac}
 • 根據指定比例隨機抽樣站點路徑數據，並生成新的 GeoJSON 檔案。
參數：
 • frac (float): 抽樣比例（預設為 0.3）。
 • 回應格式：文字訊息，表示抽樣狀態。
 • 範例請求：/mapbox/refresh_weekend_route_sample/0.5